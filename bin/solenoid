#!/usr/bin/env node
var fs = require('fs'),
    optimist = require('optimist'),
    solenoid = require('../'),
    config = JSON.parse(fs.readFileSync(path.join(process.env.HOME, '.solenoidconf'))),
    argv;

argv = optimist
  .alias('u', 'app-user')
  .alias('a', 'app-name')
  .alias('v', 'app-version')
  .argv;

console.log('Starting application...');

solenoid({
  app: {
    user: argv['app-user']
    name: argv['app-name']
    version: argv['app-version']
  },
  storage: config.storage
}, function (err) {
  if (err) {
    return console.error('Error while starting application: ' + err.message);
  }

  console.log('Application started successfully');
});
